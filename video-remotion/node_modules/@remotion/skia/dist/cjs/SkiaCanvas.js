"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SkiaCanvas = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_native_skia_1 = require("@shopify/react-native-skia");
const react_1 = require("react");
const remotion_1 = require("remotion");
/**
 * @description A React Native Skia <Canvas /> component that wraps Remotion contexts.
 * @see [Documentation](https://www.remotion.dev/docs/skia/skia-canvas)
 */
const SkiaCanvas = ({ children, height, width, style, ...otherProps }) => {
    const contexts = remotion_1.Internals.useRemotionContexts();
    const mergedStyles = (0, react_1.useMemo)(() => {
        var _a;
        return {
            width,
            height,
            ...((_a = style) !== null && _a !== void 0 ? _a : {}),
        };
    }, [height, style, width]);
    const props = (0, react_1.useMemo)(() => {
        return {
            style: mergedStyles,
            ...otherProps,
        };
    }, [mergedStyles, otherProps]);
    return ((0, jsx_runtime_1.jsx)(react_native_skia_1.Canvas, { ...props, children: (0, jsx_runtime_1.jsx)(remotion_1.Internals.RemotionContextProvider, { contexts: contexts, children: children }) }));
};
exports.SkiaCanvas = SkiaCanvas;
